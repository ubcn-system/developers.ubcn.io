---
layout: /src/layouts/api/Layout.astro
title: 쿠폰 API
sidebar:
    order: 4
#    badge:
#        text: New
#        variant: tip
description: 쿠폰과 관련된 API 기능을 제공합니다.
releasedAt: 2024-08-14
writtenAt: 2024-08-14
---

import Button from "/src/components/Button.astro";
import Frame from "/src/components/Frame.astro";
import Table from "/src/components/Table.astro";

## 개요
<Frame>
각 사이트에 등록된 정보를 바탕으로 쿠폰을 발권하고, 발권된 쿠폰의 상태에 대해 수정을 할 수 있습니다.
<br/>
쿠폰의 전송 방식은 기본적으로 `알림톡` 으로 전송되며, 카카오톡의 버전이 낮거나 미사용자 또는 채널 차단 등\
고객의 사정에 의해 `알림톡`을 받을 수 없는 경우 `MMS`로 대체 전송됩니다.
<br/>

<strong>*API 계약</strong>을 별도로 맺지 않은 경우, 쿠폰 발송 1건 당 아래와 같이 `코인`이 차감됩니다.
    + `알림톡` : 12코인
    + `MMS` : 70코인
</Frame>
<br/>

## 기본 호출 구문
<Frame>
```ts
const API = axios.create({
    baseURL: `http://api.ubcn.co.kr/membership/coupon`,
    headers: {
        "Access-Control-Allow-Origin": "*",
        "company": "{company}", //유비씨엔 발급
        "token"  : "{token}",     //유비씨엔 발급
    },
});
```
</Frame>

## 계정 조회하기
단말기 ID 를 통해 단말기 ID 와 매칭된 계정을 조회할 수 있습니다.
<br/>
<strong style={"color: green"}>GET</strong> /user/search/tid/`{tid}`
<Frame>
```ts
    //유비씨엔(주)에서 제공하는 단말기 ID를 기준으로 사용자 계정 정보를 조회합니다.
    const res = await API.get("/user/search/tid/{tid}");
```
</Frame>
<Frame>
    ### Request Schema
    <Table
        headers={[{"title": "필드명"}, {"notNull": "필수"},
            {"argsType": "타입"}, {"desc": "설명"}, {"etc": "비고"}]}
        bodys={
            [
                [
                    {"title": "tid"},
                    {"notNull": "Y"},
                    {"argsType": "String"},
                    {"desc": "단말기 ID"},
                    {"etc": "-"},
                ]
            ]
        }>
    </Table>
</Frame>